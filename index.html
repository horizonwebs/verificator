
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Certificate Verification</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100 min-h-screen flex items-center justify-center">

  <div class="bg-white shadow-xl rounded-xl p-6 w-full max-w-md">
    <h1 class="text-xl font-bold text-slate-900 mb-2">Certificate Verification</h1>
    <p class="text-sm text-slate-500 mb-4">Verify authenticity using Certificate ID</p>

    <div id="status" class="hidden"></div>

    <div id="result" class="hidden space-y-3">
      <div class="border rounded-lg p-4 bg-slate-50">
        <p class="text-xs text-slate-400">Name</p>
        <p id="name" class="font-semibold"></p>
      </div>
      <div class="border rounded-lg p-4 bg-slate-50">
        <p class="text-xs text-slate-400">Issue Date</p>
        <p id="date" class="font-semibold"></p>
      </div>
      <div class="border rounded-lg p-4 bg-slate-50">
        <p class="text-xs text-slate-400">Status</p>
        <p id="certStatus" class="font-bold"></p>
      </div>
    </div>

    <p id="error" class="hidden text-red-600 text-sm font-semibold"></p>
  </div>

<script>
const params = new URLSearchParams(window.location.search);
const uid = params.get('uid');

if (!uid) {
  showError('Invalid verification link');
} else {
  fetch('verification.json')
    .then(r => r.json())
    .then(data => verify(uid, data))
    .catch(() => showError('Verification data not found'));
}

function verify(uid, data) {
  const cert = data.certificates.find(c => c.uid === uid);

  if (!cert) {
    showError('Certificate not found');
    return;
  }

  document.getElementById('name').innerText = cert.name;
  document.getElementById('date').innerText = cert.issue_date;

  const statusEl = document.getElementById('certStatus');
  statusEl.innerText = cert.status.toUpperCase();

  statusEl.className = cert.status === 'valid'
    ? 'text-green-600 font-bold'
    : 'text-red-600 font-bold';

  document.getElementById('result').classList.remove('hidden');
}

function showError(msg) {
  const e = document.getElementById('error');
  e.innerText = msg;
  e.classList.remove('hidden');
}
</script>

</body>
</html>
